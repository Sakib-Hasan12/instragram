!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):e.Timer=n()}(this,function(){"use strict";function e(e,n,t){var i=void 0,r="";if(e.length>n)return e;for(i=0;n>i;i+=1)r+=String(t);return(r+e).slice(-r.length)}function n(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(n,t,i){n=n||["hours","minutes","seconds"],t=t||":",i=i||2;var r=void 0,o=[],s=void 0;for(s=0;s<n.length;s+=1)void 0!==this[n[s]]&&("secondTenths"===n[s]?o.push(this[n[s]]):o.push(e(this[n[s]],i,"0")));return r=o.join(t)}}function T(){return"undefined"!=typeof document}function E(){return b}function S(e,n){return(e%n+n)%n}function V(){function B(n,i){t[n]=i,n===y?e[n]=i:i>=0?e[n]=S(i,w[n]):e[n]=w[n]-S(i,w[n])}function K(e){return H(e,y)}function z(e){return H(e,p)}function R(e){return H(e,m)}function F(e){return H(e,h)}function G(e){return H(e,l)}function H(e,n){var i=t[n];return B(n,oe(e,g[n])),t[n]!==i}function J(){N(),te()}function N(){clearInterval(V),V=void 0,A=!1,U=!1}function Q(e){ye()?(P=X(),$=se(D.target)):ie(e),W()}function W(){var e=g[j];ne(_(Date.now()))||(V=setInterval(Y,e),A=!0,U=!1)}function X(){return _(Date.now())-t.secondTenths*g[l]*C}function Y(){var e=_(Date.now()),n=Z();ee(n),O(I.detail.timer),ne(e)&&(fe(),me("targetAchieved",I))}function Z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_(Date.now()),n=C>0?e-P:P-e,t={};return t[l]=G(n),t[h]=F(n),t[m]=R(n),t[p]=z(n),t[y]=K(n),t}function _(e){return Math.floor(e/g[j])*g[j]}function ee(e){e[l]&&me("secondTenthsUpdated",I),e[h]&&me("secondsUpdated",I),e[m]&&me("minutesUpdated",I),e[p]&&me("hoursUpdated",I),e[y]&&me("daysUpdated",I)}function ne(e){return $ instanceof Array&&e>=q}function te(){for(var n in e)e.hasOwnProperty(n)&&"number"==typeof e[n]&&(e[n]=0);for(var i in t)t.hasOwnProperty(i)&&"number"==typeof t[i]&&(t[i]=0)}function ie(e){e=e||{},j="string"==typeof e.precision?e.precision:h,O="function"==typeof e.callback?e.callback:function(){},x=e.countdown===!0,C=x===!0?-1:1,"object"===i(e.startValues)&&ue(e.startValues),P=X(),Z(),"object"===i(e.target)?$=se(e.target):x&&(e.target={seconds:0},$=se(e.target)),M={precision:j,callback:O,countdown:"object"===("undefined"==typeof e?"undefined":i(e))&&e.countdown===!0,target:$,startValues:k},D=e}function re(e){var n=void 0,t=void 0,l=void 0,h=void 0,m=void 0,p=void 0;if("object"===("undefined"==typeof e?"undefined":i(e)))if(e instanceof Array){if(5!==e.length)throw new Error("Array size not valid");p=e}else p=[e.secondTenths||0,e.seconds||0,e.minutes||0,e.hours||0,e.days||0];return n=p[a],t=p[f]+oe(n,r),l=p[d]+oe(t,o),h=p[c]+oe(l,s),m=p[v]+oe(h,u),p[a]=n%r,p[f]=t%o,p[d]=l%s,p[c]=h%u,p[v]=m,p}function oe(e,n){var t=e/n;return 0>t?Math.ceil(t):Math.floor(t)}function se(e){if(e){$=re(e);var n=ae($);return q=P+n.secondTenths*g[l]*C,$}}function ue(n){k=re(n),e.secondTenths=k[a],e.seconds=k[f],e.minutes=k[d],e.hours=k[c],e.days=k[v],t=ae(k,t)}function ae(e,n){var t=n||{};return t.days=e[v],t.hours=t.days*u+e[c],t.minutes=t.hours*s+e[d],t.seconds=t.minutes*o+e[f],t.secondTenths=t.seconds*r+e[[a]],t}function fe(){J(),me("stopped",I)}function de(){J(),Q(D),me("reset",I)}function ce(e){pe()||(Q(e),me("started",I))}function ve(){N(),U=!0,me("paused",I)}function le(e,n){T()?L.addEventListener(e,n):E()&&L.on(e,n)}function he(e,n){T()?L.removeEventListener(e,n):E()&&L.removeListener(e,n)}function me(e,n){T()?L.dispatchEvent(new CustomEvent(e,n)):E()&&L.emit(e,n)}function pe(){return A}function ye(){return U}function ge(){return e}function we(){return t}function be(){return M}var e=new n,t=new n,V=void 0,L=T()?document.createElement("span"):E()?new b.EventEmitter:void 0,A=!1,U=!1,j=void 0,C=void 0,O=void 0,M={},D=void 0,$=void 0,k=void 0,x=void 0,P=void 0,q=void 0,I={detail:{timer:this}};"undefined"!=typeof this&&(this.start=ce,this.pause=ve,this.stop=fe,this.reset=de,this.isRunning=pe,this.isPaused=ye,this.getTimeValues=ge,this.getTotalTimeValues=we,this.getConfig=be,this.addEventListener=le,this.removeEventListener=he)}var t="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof t&&(t=function(e,n){n=n||{bubbles:!1,cancelable:!1,detail:void 0};var t=document.createEvent("CustomEvent");return t.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),t},t.prototype=window.Event.prototype,window.CustomEvent=t);var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=10,o=60,s=60,u=24,a=0,f=1,d=2,c=3,v=4,l="secondTenths",h="seconds",m="minutes",p="hours",y="days",g={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},w={secondTenths:r,seconds:o,minutes:s,hours:u},b="undefined"!=typeof module&&module.exports&&"function"==typeof require?require("events"):void 0;return V});